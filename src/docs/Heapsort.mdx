# 힙 정렬에 대해 알아보자

## 1. 자료구조 "힙"

heap 자료구조는 기본적으로 트리 구조를 가지고 있으며, 우선순위 큐를 위해 만들어진 자료구조이다.  
여러개의 값들 중 최솟값과 최댓값을 한번에 찾기 위한 자료구조이다.   

`min heap`과 `max heap`이 존재하는데 `min heap`은 부모 노드의 키 값이 자식 노드의 키 값보다 작은  
<big>완전 이진 트리</big>를 말하고 `max heap`은 그 반대이다.

c++에서는 priority_queue 자료형으로 구현할 수 있다.   
우선순위 큐를 이용하면 최댓값 or 최솟값을 `log n` 의 복잡도로 뽑아낼 수가 있다.  
대표적인 사용처는 `min heap`을 이용한 다익스트라 알고리즘이다. 

## 2. 힙 자료구조 과정
### 2-1. 힙 자료구조의 삽입 (push)
1. 힙에 새로운 요소가 들어오면, 일단 새로운 노드를 힙의 마지막 노드에 삽입한다.  
2. 새로운 노드를 부모 노드들과 비교하면서 교환한다.

### 2-2. 힙 자료구조의 삭제 (pop)
1. `max_heap`에서 최대값은 루트 노드이므로 루트 노드가 삭제된다. (`max_heap`에서 삭제 연산은 최대값 요소를 삭제하는 것)
2. 삭제된 루트 노드에는 힙의 마지막 노드를 가져온다.
3. 부모 자식 노드를 비교하면서 힙을 재구성한다.

## 3. 힙 정렬이란

최대 힙 트리나 최소 힙 트리를 구성해 정렬을 하는 방법이다.

### 3-1. 힙 정렬 의사코드

i. 정렬해야 할 n개의 요소를 최대 힙 또는 최소 힙에 넣는다.

ii. 그 다음으로 한번에 하나씩 요소를 힙에서 꺼내서 배열에 저장한다.

> 코드

```cpp
void heap_sort(element a[], int n){
    int i;
    HeapType h;

    init(&h);

    for (i=0; i<n; i++){
        insert_max_heap(&h, a[i]);
    }
    for (i=(n-1); i>=0; i--){
        a[i] = delete_max_heap(&h);
    }
}
```

### 3-1. 시간 복잡도

거의 완전 이진트리여서 삽입 or 삭제시 `log2n`  
요소의 개수가 n 개이므로 최종적으로
`O(nlog2n)`의 시간이 걸린다.

